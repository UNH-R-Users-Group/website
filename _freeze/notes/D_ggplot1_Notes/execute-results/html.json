{
  "hash": "24529398e7b30e6516143352f0b1526f",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: 'Notes D'\nsubtitle: 'Making plots  with ggplot2: barplots and scatterplots`'\nauthor: 'EMW'\ndate: '2023'\nformat:\n  html:\n    toc: true\n    code-overflow: wrap\n    code-fold: false\n    embed-resources: true\nexecute: \n  message: FALSE\n  warning: FALSE\neditor_options: \n  chunk_output_type: console\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Import the can_lang dataset from last class\n\n#can_lang <- read.csv(\"can_lang.csv\")\n\n#OR\ncan_lang <- read.csv(\"https://raw.githubusercontent.com/ttimbers/canlang/master/inst/extdata/can_lang.csv\")\n```\n:::\n\n\n\n# Recall our last example: \n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nten_lang <- can_lang %>% \n  filter(category == \"Aboriginal languages\") %>%\n  arrange(by=desc(mother_tongue)) %>%\n  select(language, mother_tongue) %>%\n  slice(1:10)\n```\n:::\n\n\n\n# ggplot: barplots with `geom_bar`\n\n![](images/img-ggplot-1.png)\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ten_lang, aes(x = language, y = mother_tongue)) +\n  geom_bar(stat = \"identity\")\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\nIs there any improvements we could make to this graph? \n\n# To better view text\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ten_lang, aes(x = language, y = mother_tongue)) +\n  geom_bar(stat = \"identity\") +  \n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n\n```{.r .cell-code}\n#OR\n\nggplot(ten_lang, aes(x = mother_tongue, y = language)) +\n  geom_bar(stat = \"identity\") \n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-5-2.png){width=672}\n:::\n:::\n\n\n\n\n# Labels, Colors, and Themes\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(ten_lang, aes(x = mother_tongue, y = reorder(language, mother_tongue))) +\n  geom_bar(fill=\"lightblue\", stat = \"identity\") + \n  ylab(\"Language\") +\n  xlab(\"Mother Tongue (Number of Canadian Residents)\") + \n  ggtitle(\"Ten Aboriginal Languages Most Often \\n Reported by Canadian Residents \\n as Their Mother Tongue\") + \n  theme_minimal()\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n# ggplot: scatterplot with `geom_point`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(can_lang, aes(x=most_at_home, y=mother_tongue)) +\n  geom_point()\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n# With labels\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(can_lang, aes(x = most_at_home, y = mother_tongue)) +\n  geom_point() +\n  xlab(\"Language spoken most at home \\n (number of Canadian residents)\") +\n  ylab(\"Mother tongue \\n (number of Canadian residents)\") +\n  theme(text = element_text(size = 12))\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\n# Axis transformations\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(scales)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(can_lang, aes(x = most_at_home, y = mother_tongue)) +\n  geom_point() +\n  xlab(\"Language spoken most at home \\n (number of Canadian residents)\") +\n  ylab(\"Mother tongue \\n (number of Canadian residents)\") +\n  theme(text = element_text(size = 12)) +\n  scale_x_log10(labels = label_comma()) +\n  scale_y_log10(labels = label_comma())\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\n\n\n# `mutate` to create new columns\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncan_lang <- can_lang %>%\n  mutate(\n    mother_tongue_percent = (mother_tongue / 35151728) * 100,\n    most_at_home_percent = (most_at_home / 35151728) * 100\n  )\n```\n:::\n\n\n\n# Scatterplot with percents\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(can_lang, aes(x = most_at_home_percent, y = mother_tongue_percent)) +\n  geom_point() +\n  xlab(\"Language spoken most at home \\n (percentage of Canadian residents)\") +\n  ylab(\"Mother tongue \\n (percentage of Canadian residents)\") +\n  theme(text = element_text(size = 12)) +\n  scale_x_log10(labels = comma) +\n  scale_y_log10(labels = comma)\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n\n\n# Scatterplot with Percents and Colors\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(can_lang, aes(x = most_at_home_percent, \n                     y = mother_tongue_percent, \n                     color = category, shape=category)) +\n  geom_point() +\n  xlab(\"Language spoken most at home \\n (percentage of Canadian residents)\") +\n  ylab(\"Mother tongue \\n (percentage of Canadian residents)\") +\n  theme(text = element_text(size = 12),\n        legend.position = \"top\",\n        legend.direction = \"vertical\") +\n  scale_x_log10(labels = comma) +\n  scale_y_log10(labels = comma)\n```\n\n::: {.cell-output-display}\n![](D_ggplot1_Notes_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n",
    "supporting": [
      "D_ggplot1_Notes_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}